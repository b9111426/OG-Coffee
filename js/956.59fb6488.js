"use strict";(self["webpackChunkog_coffee"]=self["webpackChunkog_coffee"]||[]).push([[956],{7956:function(e,s,t){t.r(s),t.d(s,{default:function(){return J}});var a=t(6252),i=t(9963);const o=e=>((0,a.dD)("data-v-fa1ea572"),e=e(),(0,a.Cn)(),e),r={class:"container"},n={class:"vh-100 d-flex flex-column align-items-center justify-content-center"},l={class:"row justify-content-center"},c=o((()=>(0,a._)("h1",{class:"h2 mb-3 font-weight-normal"},"會員登入",-1))),h={class:"col-8"},d={class:"form-floating mb-3"},u=o((()=>(0,a._)("label",{for:"username"},"Email address",-1))),f={class:"form-floating"},m=["type"],p={class:"bi bi-eye text-primary fs-4"},w={class:"bi bi-eye-slash text-primary fs-4"},g=o((()=>(0,a._)("label",{for:"password"},"Password",-1))),S={class:"form-check my-3 d-flex justify-content-start"},y=["checked"],b=o((()=>(0,a._)("label",{class:"form-check-label",for:"loginChecked"}," 記住我 ",-1))),v={class:"bi bi-eye"},_={class:"bi bi-eye-slash"},k={key:0,class:"text-start"},C=o((()=>(0,a._)("br",null,null,-1))),I=o((()=>(0,a._)("p",{class:"mt-3 mb-3 text-muted"},"© 2022 - OG Coffee",-1)));function P(e,s,t,o,P,x){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",n,[(0,a._)("div",l,[c,(0,a._)("div",h,[(0,a._)("form",{id:"form",class:"form-signin",onSubmit:s[6]||(s[6]=(0,i.iM)(((...s)=>e.login&&e.login(...s)),["prevent"]))},[(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":s[0]||(s[0]=e=>P.user.username=e),required:"",autofocus:""},null,512),[[i.nr,P.user.username]]),u]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:P.isEyeShow?"password":"type",class:"form-control position-relative",id:"password",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=e=>P.user.password=e),required:""},null,8,m),[[i.YZ,P.user.password]]),(0,a._)("span",{class:"eyeIcon position-absolute top-0 end-0 mt-2 me-3",onClick:s[2]||(s[2]=(...e)=>x.switchIcon&&x.switchIcon(...e))},[(0,a.wy)((0,a._)("i",p,null,512),[[i.F8,!P.isEyeShow]]),(0,a.wy)((0,a._)("i",w,null,512),[[i.F8,P.isEyeShow]])]),g]),(0,a._)("div",S,[(0,a._)("input",{class:"form-check-input me-2",type:"checkbox",id:"loginChecked",onInput:s[3]||(s[3]=(...e)=>x.saveCode&&x.saveCode(...e)),checked:P.isSave},null,40,y),b]),(0,a._)("p",{class:"mt-3 h6 text-start text-danger",onClick:s[4]||(s[4]=(...e)=>x.handPassShow&&x.handPassShow(...e)),style:{cursor:"pointer"}},[(0,a.Uk)(" 帳密 "),(0,a.wy)((0,a._)("i",v,null,512),[[i.F8,P.isPassShow]]),(0,a.wy)((0,a._)("i",_,null,512),[[i.F8,!P.isPassShow]])]),P.isPassShow?((0,a.wg)(),(0,a.iD)("p",k,[(0,a.Uk)(" 帳號:b9111426@gmail.com "),C,(0,a.Uk)(" 密碼:123456 ")])):(0,a.kq)("",!0),(0,a._)("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit",onClick:s[5]||(s[5]=(...e)=>x.signIn&&x.signIn(...e))}," 登入 ")],32)]),I])])])}t(7658);var x=t(3372),O=t(6486),U=t.n(O),$={data(){return{user:{username:"",password:""},isPassShow:!1,isSave:!0,isEyeShow:!0}},methods:{signIn:U().debounce((async function(){if(""!==this.user.username&&""!==this.user.password)try{const e=await(0,x.Gi)(this.user),{token:s,expired:t}=e.data;document.cookie=`ogCoffeeToken=${s}; expires=${new Date(t)}`,this.$store.dispatch("fireToast",{res:e,title:"登入成功"}),this.$router.push(this.toPage)}catch(e){this.$store.dispatch("fireToast",{res:e.response})}else this.$store.dispatch("fireToast",{title:"請先填入資料"})}),500),handPassShow(){this.isPassShow=!this.isPassShow},saveCode(){this.isSave=!this.isSave,localStorage.setItem("isSave",JSON.stringify(this.isSave)),this.isSave||(this.user={username:"",password:""}),localStorage.setItem("OGCoffeeUser",JSON.stringify(this.user))},switchIcon(){this.isEyeShow=!this.isEyeShow}},watch:{user:{handler(){this.isSave&&localStorage.setItem("OGCoffeeUser",JSON.stringify(this.user))},deep:!0}},mounted(){this.$store.dispatch("handLoading",!1),this.isSave=JSON.parse(localStorage.getItem("isSave"));const e=JSON.parse(localStorage.getItem("OGCoffeeUser"));null!==e&&(this.user=JSON.parse(localStorage.getItem("OGCoffeeUser")))},created(){this.$store.dispatch("handLoading",!0)},computed:{toPage(){return this.$store.getters["toPage"]}}},E=t(3744);const G=(0,E.Z)($,[["render",P],["__scopeId","data-v-fa1ea572"]]);var J=G}}]);
//# sourceMappingURL=956.59fb6488.js.map