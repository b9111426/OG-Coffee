{"version":3,"file":"js/568.a6ff99ae.js","mappings":"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","sources":["webpack://og-coffee/./src/components/Pagination.vue","webpack://og-coffee/./src/components/Pagination.vue?33dc","webpack://og-coffee/./src/views/FrontView/ProductAll.vue","webpack://og-coffee/./src/views/FrontView/ProductAll.vue?676d"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center align-items-center\">\r\n      <li>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn text-primary bg-transparent border-0\"\r\n          :disabled=\"!pages.has_pre\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n        >\r\n          <i\r\n            class=\"bi bi-chevron-double-left fs-5\"\r\n            :class=\"{\r\n              'text-white opacity-75': !pages.has_pre\r\n            }\"\r\n          ></i>\r\n        </button>\r\n      </li>\r\n      <li\r\n        class=\"page-item mx-1\"\r\n        :class=\"{ active: item === pages.current_page }\"\r\n        v-for=\"item in pageAry\"\r\n        :key=\"item + '452'\"\r\n      >\r\n        <a\r\n          class=\"page-link rounded-1\"\r\n          href=\"#\"\r\n          @click.prevent=\"updatePage(item)\"\r\n          >{{ item }}</a\r\n        >\r\n      </li>\r\n      <li v-if=\"!pages.current_page\" class=\"page-item disabled mx-1\">\r\n        <a href=\"#\" class=\"bg-gray text-white page-link rounded-1\">1</a>\r\n      </li>\r\n      <li>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn text-primary bg-transparent border-0\"\r\n          :disabled=\"!pages.has_next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n        >\r\n          <i\r\n            class=\"bi bi-chevron-double-right fs-5\"\r\n            :class=\"{\r\n              'text-white opacity-75': !pages.has_next\r\n            }\"\r\n          ></i>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      if (this.pages.category === 'search') {\r\n        this.$emit('searchPages', page)\r\n      } else {\r\n        this.$emit('emitPages', page, this.pages.category)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    pageAry() {\r\n      const startPage = Math.abs(\r\n        (Math.ceil(this.pages.current_page / 9) - 1) * 9 + 1\r\n      )\r\n      const ary = []\r\n      for (let i = startPage; i < this.pages.total_pages + 1; i++) {\r\n        ary.push(i)\r\n      }\r\n      return ary\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=2205e8aa\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"contain-fluid pb-5\">\r\n    <div class=\"row\">\r\n      <div\r\n        class=\"col-lg-3 col-md-4 col-6 g-3\"\r\n        v-for=\"item in products\"\r\n        :key=\"item.id\"\r\n      >\r\n        <div class=\"card h-100\">\r\n          <a\r\n            class=\"position-relative\"\r\n            :class=\"{ 'card-link': !item.is_soldOut }\"\r\n            @click=\"toNewRouter(item.id, item.is_soldOut)\"\r\n          >\r\n            <div class=\"position-relative d-inline-block overflow-hidden\">\r\n              <div\r\n                v-if=\"item.is_soldOut\"\r\n                class=\"position-absolute sellOutTag bg-danger start-50 top-50 translate-middle\"\r\n              ></div>\r\n              <img\r\n                v-src=\"item.imageUrl === undefined ? '' : item.imageUrl[0]\"\r\n                class=\"card-img-top\"\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n            <p\r\n              v-if=\"!item.is_soldOut\"\r\n              class=\"position-absolute text-white text-nowrap top-50 start-50 translate-middle\"\r\n            >\r\n              加入購物車\r\n            </p>\r\n          </a>\r\n          <div class=\"card-body d-flex flex-column p-1 p-lg-3\">\r\n            <p class=\"text-center fs-5\">{{ item.title }}</p>\r\n            <p class=\"text-center fs-7 fs-lg-5 lh-mm mb-3\">\r\n              {{ item.subtitle }}\r\n            </p>\r\n\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm btn-outline-primary py-0 d-block d-lg-none mt-auto\"\r\n              :data-id=\"item.id\"\r\n              @click=\"addToCart($event)\"\r\n            >\r\n              <i class=\"bi bi-cart-fill fs-5\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <template v-if=\"isShow\">\r\n        <div v-if=\"products.length === 0\">\r\n          <p class=\"fs-3 text-primary mt-5\">\r\n            找不到您所查詢的「{{ notFound }}」相關商品\r\n          </p>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <!-- 分頁 -->\r\n    <Pagination\r\n      class=\"mt-4\"\r\n      :pages=\"pagination\"\r\n      @emit-pages=\"getProducts\"\r\n      @searchPages=\"handSearchPages\"\r\n    ></Pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      isShow: false\r\n    }\r\n  },\r\n  updated() {\r\n    this.isShow = true\r\n  },\r\n  methods: {\r\n    toNewRouter(id, sellout) {\r\n      if (sellout) {\r\n        return\r\n      }\r\n      this.$store.dispatch('Products/setLoading', true)\r\n      this.$store.dispatch('Products/setSortState', false)\r\n      this.$router.push({ path: `products/${id}` })\r\n    },\r\n    async getProducts(page = 1, category) {\r\n      try {\r\n        const data = { page, category }\r\n        await this.$store.dispatch('Products/getFrontProducts', data)\r\n      } catch (err) {\r\n        throw new Error(err)\r\n      }\r\n    },\r\n    handSearchPages(page) {\r\n      this.$store.dispatch('Products/setSearchPagination', page)\r\n    },\r\n    addToCart: _.debounce(async function (e) {\r\n      const id = e.target.dataset.id\r\n      const data = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      try {\r\n        const res = await this.$store.dispatch('Cart/addCart', data)\r\n        const title = res.data.data.product.title\r\n        this.$store.dispatch('fireToast', {\r\n          title: `「${title}」已加入購物車`,\r\n          style: 'success'\r\n        })\r\n        this.$store.dispatch('Cart/getCart')\r\n        this.$store.dispatch('Cart/setShake')\r\n      } catch (err) {\r\n        throw new Error(err)\r\n      }\r\n    }, 500)\r\n  },\r\n  computed: {\r\n    products() {\r\n      return this.$store.getters['Products/productsData']\r\n    },\r\n    pagination() {\r\n      return this.$store.getters['Products/productsPage']\r\n    },\r\n    notFound() {\r\n      return this.$store.getters['Products/notFound']\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/assets/stylesheets/mixin';\r\n.card-link {\r\n  cursor: pointer;\r\n}\r\n\r\n.card-link > p {\r\n  opacity: 0;\r\n  text-shadow: 0 0 5px #000;\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.card-link:hover > p {\r\n  opacity: 100%;\r\n}\r\n.sellOutTag {\r\n  width: 100%;\r\n  height: 40px;\r\n\r\n  &::after {\r\n    content: '售完';\r\n    color: #fff;\r\n    font-size: 1.5rem;\r\n    letter-spacing: 0.8rem;\r\n  }\r\n}\r\n.btn-size {\r\n  height: 35px;\r\n}\r\n.card-img-top {\r\n  height: 230px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  @include phone() {\r\n    height: 150px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ProductAll.vue?vue&type=template&id=778b9ec5&scoped=true\"\nimport script from \"./ProductAll.vue?vue&type=script&lang=js\"\nexport * from \"./ProductAll.vue?vue&type=script&lang=js\"\n\nimport \"./ProductAll.vue?vue&type=style&index=0&id=778b9ec5&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-778b9ec5\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","type","disabled","$props","has_pre","onClick","$options","current_page","_Fragment","item","active","key","_hoisted_5","has_next","props","methods","updatePage","page","this","pages","category","$emit","computed","pageAry","startPage","Math","abs","ceil","ary","i","total_pages","push","__exports__","render","alt","_hoisted_13","id","_hoisted_3","is_soldOut","_hoisted_7","undefined","imageUrl","_hoisted_8","_hoisted_9","_hoisted_10","title","_hoisted_11","subtitle","$event","$data","length","_hoisted_16","_createVNode","_component_Pagination","onEmitPages","onSearchPages","components","Pagination","data","isShow","updated","toNewRouter","sellout","$store","dispatch","$router","path","async","err","Error","handSearchPages","addToCart","_","e","target","dataset","product_id","qty","res","product","style","products","getters","pagination","notFound"],"sourceRoot":""}