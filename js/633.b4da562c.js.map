{"version":3,"file":"js/633.b4da562c.js","mappings":"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","sources":["webpack://og-coffee/./src/components/AddMinBtn.vue","webpack://og-coffee/./src/components/AddMinBtn.vue?ecd1","webpack://og-coffee/./src/views/FrontView/ProductDetail.vue","webpack://og-coffee/./src/views/FrontView/ProductDetail.vue?1855"],"sourcesContent":["<template>\r\n  <div class=\"input-group flex-nowrap\">\r\n    <button\r\n      class=\"btn btn-gray\"\r\n      type=\"button\"\r\n      id=\"button-addon1\"\r\n      @click=\"$emit('min')\"\r\n    >\r\n      <i class=\"bi bi-dash\"></i>\r\n    </button>\r\n    <input\r\n      type=\"number\"\r\n      :value=\"val\"\r\n      onkeydown=\"return event.keyCode !== 69\"\r\n      @input=\"pushVal($event)\"\r\n      class=\"form-control text-center hide-input-number-spinner\"\r\n      aria-label=\"Example text with button addon\"\r\n      aria-describedby=\"button-addon1\"\r\n    />\r\n    <button\r\n      class=\"btn btn-gray\"\r\n      type=\"button\"\r\n      id=\"button-addon1\"\r\n      @click=\"$emit('add')\"\r\n    >\r\n      <i class=\"bi bi-plus\"></i>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['val'],\r\n  emits: ['add', 'min', 'push-val'],\r\n  methods: {\r\n    pushVal(e) {\r\n      let num = parseInt(e.target.value)\r\n      if (num > 999) {\r\n        num = 999\r\n        e.target.value = 999\r\n      }\r\n      this.$emit('push-val', num)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.hide-input-number-spinner {\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n  }\r\n\r\n  -moz-appearance: textfield;\r\n}\r\n</style>\r\n","import { render } from \"./AddMinBtn.vue?vue&type=template&id=64356d4b&scoped=true\"\nimport script from \"./AddMinBtn.vue?vue&type=script&lang=js\"\nexport * from \"./AddMinBtn.vue?vue&type=script&lang=js\"\n\nimport \"./AddMinBtn.vue?vue&type=style&index=0&id=64356d4b&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64356d4b\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container mt-3\">\r\n    <div class=\"row row-cols-lg-2 row-cols-1\">\r\n      <div class=\"col\">\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col\">\r\n            <img\r\n              v-if=\"isShow\"\r\n              ref=\"pic1\"\r\n              class=\"img-fluid img-thumbnail\"\r\n              v-src=\"[product.imageUrl]\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row g-3\">\r\n          <div\r\n            v-for=\"(i, idx) in product.imageUrl.splice(1)\"\r\n            :key=\"i + idx\"\r\n            class=\"col-4\"\r\n            @click=\"changPic($event)\"\r\n          >\r\n            <img class=\"subImg img-fluid img-thumbnail\" :src=\"i\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col my-5 my-lg-0\">\r\n        <h3 class=\"text-start text-break\">{{ product.title }}</h3>\r\n        <h4 class=\"text-start text-break mb-lg-5 mb-3\">\r\n          {{ product.subtitle }}\r\n        </h4>\r\n        <p class=\"text-start mb-lg-5 mb-3\">{{ product.description }}</p>\r\n        <div v-if=\"isShow\">\r\n          <!--價錢數量-->\r\n\r\n          <div class=\"col-12 d-flex align-items-center mb-3\">\r\n            <p class=\"text-center fs-5 me-auto\">單位({{ unitAry[0] }})</p>\r\n\r\n            <p class=\"ms-auto text-break fs-4\">\r\n              <span\r\n                class=\"text-decoration-line-through text-danger text-break me-2\"\r\n                v-if=\"product.origin_price !== product.price\"\r\n              >\r\n                NT${{ product.origin_price }}\r\n              </span>\r\n\r\n              NT${{ product.price }}\r\n            </p>\r\n          </div>\r\n          <div class=\"col-12 mb-4\">\r\n            <div v-if=\"isShow\" class=\"input-group input-group-sm flex-nowrap\">\r\n              <AddMinBtn\r\n                :val=\"qty\"\r\n                @add=\"add\"\r\n                @min=\"min\"\r\n                @push-val=\"pushVal\"\r\n              ></AddMinBtn>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"d-flex\">\r\n            <div class=\"col pe-1\">\r\n              <button\r\n                v-if=\"isShow\"\r\n                type=\"button\"\r\n                class=\"btn btn-primary w-100 position-relative\"\r\n                @click=\"addToCart\"\r\n              >\r\n                <div\r\n                  v-if=\"isLoading\"\r\n                  class=\"position-absolute top-50 end-0 translate-middle\"\r\n                >\r\n                  <img class=\"loading\" src=\"@/assets/images/load.gif\" alt=\"\" />\r\n                </div>\r\n                加入購物車\r\n              </button>\r\n            </div>\r\n            <div class=\"col ps-1\">\r\n              <button\r\n                v-if=\"isShow\"\r\n                type=\"button\"\r\n                class=\"btn btn-success w-100\"\r\n                @click=\"addToCart('goCart')\"\r\n              >\r\n                立即購買\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddMinBtn from '@/components/AddMinBtn.vue'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  components: {\r\n    AddMinBtn\r\n  },\r\n  data() {\r\n    return {\r\n      product: {\r\n        imageUrl: []\r\n      },\r\n      isShow: false,\r\n      isLoading: false,\r\n      unitAry: [],\r\n      cartQty: null,\r\n      qty: 1\r\n    }\r\n  },\r\n  methods: {\r\n    add() {\r\n      this.qty++\r\n      if (this.qty > 999) {\r\n        this.qty = 999\r\n      }\r\n    },\r\n    min() {\r\n      this.qty--\r\n      if (this.qty <= 1) {\r\n        this.qty = 1\r\n      }\r\n    },\r\n    pushVal(val) {\r\n      this.qty = val\r\n    },\r\n    addToCart: _.debounce(async function (string) {\r\n      const limit = 999 - this.cartQty\r\n      if (limit === 0) {\r\n        this.$store.dispatch('fireToast', {\r\n          title: '商品數量已達上限',\r\n          style: 'danger'\r\n        })\r\n        return\r\n      }\r\n\r\n      this.isLoading = true\r\n      const data = {\r\n        product_id: this.product.id,\r\n        qty: this.qty\r\n      }\r\n      try {\r\n        const res = await this.$store.dispatch('Cart/addCart', data)\r\n        const title = res.data.data.product.title\r\n        this.$store.dispatch('Cart/getCart')\r\n        this.$store.dispatch('fireToast', {\r\n          title: `「${title}」已加入購物車`,\r\n          style: 'success'\r\n        })\r\n        this.$store.dispatch('Cart/setShake')\r\n        this.isLoading = false\r\n        if (string === 'goCart') {\r\n          this.$router.push({ path: '/cart' })\r\n        }\r\n      } catch (err) {\r\n        throw new Error(err)\r\n      }\r\n    }, 500),\r\n    async getProduct() {\r\n      try {\r\n        const { id } = this.$route.params\r\n        const res = await this.$store.dispatch('Products/getSingleProduct', id)\r\n        this.product = res.data.product\r\n        this.unitAry = this.product.unit.split('、')\r\n        this.isShow = true\r\n        this.$store.dispatch('Products/setLoading', false)\r\n      } catch (err) {\r\n        throw new Error(err)\r\n      }\r\n    },\r\n    changPic(e) {\r\n      let url2 = e.target.getAttribute('src')\r\n      let url1 = this.$refs.pic1.getAttribute('src')\r\n      e.target.setAttribute('src', url1)\r\n      this.$refs.pic1.setAttribute('src', url2)\r\n    },\r\n    async getCart() {\r\n      try {\r\n        const res = await this.$store.dispatch('Cart/getCart')\r\n        const { id } = this.$route.params\r\n        const ary = res.data.data.carts\r\n        const [selected] = ary.filter((i) => {\r\n          return i.product.id === id\r\n        })\r\n        this.cartQty = selected?.qty || 0\r\n      } catch (err) {\r\n        throw new Error(err)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getProduct()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.subImg {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=0102bee2&scoped=true\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=0102bee2&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0102bee2\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_hoisted_5","_createElementBlock","_hoisted_1","type","id","onClick","_ctx","value","$props","onkeydown","onInput","$options","$event","props","emits","methods","pushVal","e","num","parseInt","target","this","$emit","__exports__","render","ref","alt","src","_imports_0","_hoisted_23","_hoisted_3","_hoisted_4","$data","_hoisted_6","imageUrl","_hoisted_7","_Fragment","splice","i","idx","key","_hoisted_9","_hoisted_10","title","_hoisted_11","subtitle","_hoisted_12","description","_hoisted_14","_hoisted_15","_hoisted_16","origin_price","price","_hoisted_17","_hoisted_18","_hoisted_19","_createVNode","_component_AddMinBtn","val","onAdd","onMin","onPushVal","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_25","components","AddMinBtn","data","product","isShow","isLoading","unitAry","cartQty","qty","add","min","addToCart","_","async","string","limit","$store","dispatch","style","product_id","res","$router","push","path","err","Error","$route","params","unit","split","changPic","url2","getAttribute","url1","$refs","pic1","setAttribute","ary","carts","selected","filter","created","getProduct","getCart"],"sourceRoot":""}