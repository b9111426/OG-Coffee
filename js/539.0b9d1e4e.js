"use strict";(self["webpackChunkog_coffee"]=self["webpackChunkog_coffee"]||[]).push([[539],{183:function(t,a,s){s.d(a,{Z:function(){return m}});var e=s(6252);const i=t=>((0,e.dD)("data-v-64356d4b"),t=t(),(0,e.Cn)(),t),o={class:"input-group flex-nowrap"},c=i((()=>(0,e._)("i",{class:"bi bi-dash"},null,-1))),l=[c],r=["value"],n=i((()=>(0,e._)("i",{class:"bi bi-plus"},null,-1))),d=[n];function u(t,a,s,i,c,n){return(0,e.wg)(),(0,e.iD)("div",o,[(0,e._)("button",{class:"btn btn-gray",type:"button",id:"button-addon1",onClick:a[0]||(a[0]=a=>t.$emit("min"))},l),(0,e._)("input",{type:"number",value:s.val,onkeydown:"return event.keyCode !== 69",onInput:a[1]||(a[1]=t=>n.pushVal(t)),class:"form-control text-center hide-input-number-spinner","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,40,r),(0,e._)("button",{class:"btn btn-gray",type:"button",id:"button-addon1",onClick:a[2]||(a[2]=a=>t.$emit("add"))},d)])}var p={props:["val"],emits:["add","min","push-val"],methods:{pushVal(t){let a=parseInt(t.target.value);a>999&&(a=999,t.target.value=999),this.$emit("push-val",a)}}},g=s(3744);const h=(0,g.Z)(p,[["render",u],["__scopeId","data-v-64356d4b"]]);var m=h},9103:function(t,a,s){s.d(a,{Z:function(){return y}});var e=s(6252),i=s(9963),o=s(3577);const c={"aria-label":"Page navigation example"},l={class:"pagination justify-content-center align-items-center"},r=["disabled"],n=["onClick"],d={key:0,class:"page-item disabled mx-1"},u=(0,e._)("a",{href:"#",class:"bg-gray text-white page-link rounded-1"},"1",-1),p=[u],g=["disabled"];function h(t,a,s,u,h,m){return(0,e.wg)(),(0,e.iD)("nav",c,[(0,e._)("ul",l,[(0,e._)("li",null,[(0,e._)("button",{type:"button",class:"btn text-primary bg-transparent border-0",disabled:!s.pages.has_pre,onClick:a[0]||(a[0]=(0,i.iM)((t=>m.updatePage(s.pages.current_page-1)),["prevent"]))},[(0,e._)("i",{class:(0,o.C_)(["bi bi-chevron-double-left fs-5",{"text-white opacity-75":!s.pages.has_pre}])},null,2)],8,r)]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(m.pageAry,(t=>((0,e.wg)(),(0,e.iD)("li",{class:(0,o.C_)(["page-item mx-1",{active:t===s.pages.current_page}]),key:t+"452"},[(0,e._)("a",{class:"page-link rounded-1",href:"#",onClick:(0,i.iM)((a=>m.updatePage(t)),["prevent"])},(0,o.zw)(t),9,n)],2)))),128)),s.pages.current_page?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("li",d,p)),(0,e._)("li",null,[(0,e._)("button",{type:"button",class:"btn text-primary bg-transparent border-0",disabled:!s.pages.has_next,onClick:a[1]||(a[1]=(0,i.iM)((t=>m.updatePage(s.pages.current_page+1)),["prevent"]))},[(0,e._)("i",{class:(0,o.C_)(["bi bi-chevron-double-right fs-5",{"text-white opacity-75":!s.pages.has_next}])},null,2)],8,g)])])])}s(7658);var m={props:["pages"],methods:{updatePage(t){"search"===this.pages.category?this.$emit("searchPages",t):this.$emit("emitPages",t,this.pages.category)}},computed:{pageAry(){const t=Math.abs(9*(Math.ceil(this.pages.current_page/9)-1)+1),a=[];for(let s=t;s<this.pages.total_pages+1;s++)a.push(s);return a}}},b=s(3744);const v=(0,b.Z)(m,[["render",h]]);var y=v},2539:function(t,a,s){s.r(a),s.d(a,{default:function(){return ea}});var e=s(6252);const i=t=>((0,e.dD)("data-v-2e438912"),t=t(),(0,e.Cn)(),t),o={class:"container-fulid mb-5"},c={class:"frontCarouse bg-primary"},l={id:"carouselExampleCaptions",class:"carousel slide h-100","data-bs-ride":"carousel"},r=(0,e.uE)('<div class="carousel-indicators" data-v-2e438912><button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1" data-v-2e438912></button><button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2" data-v-2e438912></button><button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3" data-v-2e438912></button><button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4" data-v-2e438912></button></div>',1),n={class:"carousel-inner text-center"},d=i((()=>(0,e._)("div",{class:"carousel-item overflow-hidden active bg-primary","data-bs-interval":"6000"},[(0,e._)("video",{preload:"auto",autoplay:"",muted:"",playsinline:""},[(0,e._)("source",{type:"video/mp4",src:"https://joy.videvo.net/videvo_files/video/free/2020-03/large_watermarked/200312_pl_01_4k_020_preview.mp4"})]),(0,e._)("div",{class:"carousel-caption h-100 d-flex flex-column justify-content-center align-items-center"},[(0,e._)("h1",{class:"display-3 text-nowrap d-none d-md-block px-5 mb-3"}," 新鮮烘培·當天現烘·手沖風味 "),(0,e._)("h5",{class:"d-md-none d-block"},"新鮮烘培·當天現烘·手沖風味"),(0,e._)("p",{class:"fs-3 d-none d-md-block"}," 預約外送服務提供 / 科技烘培 / 品質絕對 "),(0,e._)("p",{class:"fs-7 d-md-none d-block"}," 預約外送服務提供 / 科技烘培 / 品質絕對 ")])],-1))),u={class:"carousel-item","data-bs-interval":"3000"},p={class:"h-100",alt:"..."},g=(0,e.uE)('<div class="carousel-caption h-100 d-flex flex-column justify-content-center" data-v-2e438912><h2 class="d-none d-md-block me-auto" data-v-2e438912> 環保外帶紙杯，100%防水植纖紙漿 </h2><h6 class="d-md-none d-block" data-v-2e438912>環保外帶紙杯，100%防水植纖紙漿</h6><p class="d-md-none d-block fs-6" data-v-2e438912>一次性飲料杯你有更好的選擇</p><p class="fs-4 d-none d-md-block me-auto" data-v-2e438912> 一次性飲料杯你有更好的選擇 </p></div>',1),h={class:"carousel-item","data-bs-interval":"3000"},m={class:"h-100",alt:"..."},b=i((()=>(0,e._)("div",{class:"carousel-caption h-100 d-flex flex-column justify-content-end"},[(0,e._)("h2",{class:"text-start"},"熱銷阿里山莊園咖啡豆")],-1))),v={class:"carousel-item","data-bs-interval":"3000"},y={class:"h-100",alt:"..."},f=i((()=>(0,e._)("div",{class:"carousel-caption"},[(0,e._)("h1",null,"專業咖啡課程"),(0,e._)("p",{class:"fs-3 d-none d-lg-block"}," 場地租借/親子烘培體驗/進階專業課程 "),(0,e._)("p",{class:"fs-5 d-lg-none d-block"}," 場地租借/親子烘培體驗/進階專業課程 ")],-1))),_=(0,e.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-2e438912><span class="carousel-control-prev-icon" aria-hidden="true" data-v-2e438912></span><span class="visually-hidden" data-v-2e438912>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-2e438912><span class="carousel-control-next-icon" aria-hidden="true" data-v-2e438912></span><span class="visually-hidden" data-v-2e438912>Next</span></button>',2),w={class:"container"},x={class:"row row-cols-lg-3 row-cols-1 gx-4 py-3 mb-5"},k={class:"col mb-3 mb-lg-0"},C={class:"box bg-light h-100 py-3 shadow-sm"},B={class:"w-100 px-2",alt:""},D=i((()=>(0,e._)("h5",{class:"text-tertiary py-3"},"預約外送",-1))),F=i((()=>(0,e._)("p",{class:"px-4 text-start"},"2個小時前至7天內線上預約，訂餐超方便",-1))),P={class:"col mb-3 mb-lg-0"},E={class:"box bg-light h-100 py-3 shadow-sm"},M={class:"w-100 px-2",alt:""},q=i((()=>(0,e._)("h5",{class:"text-tertiary py-3"},"輕鬆享用的價格帶",-1))),A=i((()=>(0,e._)("p",{class:"px-4 text-start"}," OG-Coffee在維持咖啡品質的同時，也默默定位在就算搭配甜點也能輕鬆享用的價格帶。 ",-1))),z={class:"col"},Z={class:"box bg-light h-100 py-3 shadow-sm"},R={class:"w-100 px-2",alt:""},V=i((()=>(0,e._)("h5",{class:"text-tertiary py-3"},"在地產區",-1))),O=i((()=>(0,e._)("p",{class:"px-4 text-start"}," 深入阿里山、屏東、台東、花蓮等咖啡產區，挖掘出台灣咖啡的特色與魅力。 ",-1))),Y={class:"row row-cols-lg-2 row-cols-1 mb-5"},S={class:"col mb-3 mb-lg-0"},I={class:"ab-pic img-fluid img-thumbnail w-100",alt:""},U=i((()=>(0,e._)("div",{class:"col d-flex flex-column justify-content-center"},[(0,e._)("h3",null,"關於橘子咖啡"),(0,e._)("p",{class:"mb-4 h5"},"about OG-Coffee"),(0,e._)("p",{class:"text-start"}," 每個夢想都始於一杯新鮮的咖啡。 在 about OG-Coffee，我們的夢想是在最舒適的空間中創造出最好的咖啡。 我們想邀請大家過來與我們分享他們的夢想 ")],-1))),H={class:"mb-5"},Q=i((()=>(0,e._)("h4",{class:"h4 text-primary"},"熱銷商品",-1)));function T(t,a,s,i,T,L){const W=(0,e.up)("ProductsSection"),G=(0,e.up)("ProductModal"),K=(0,e.Q2)("src");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",o,[(0,e._)("div",c,[(0,e._)("div",l,[r,(0,e._)("div",n,[d,(0,e._)("div",u,[(0,e.wy)((0,e._)("img",p,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1667894185405.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CY5I7%2F9Zq55J9%2BPuJD5Nq3wgTei%2BZC%2FIq8dHiK9DvATEx9239jSIdlHiuoRRLs6m%2FOLrKOBZ86hzpydAaosRcwx3FzPZ%2B3MRYrHVgGXGpJDaYFaz80Cs1s6HrH9pFm0ZtVirQuTkTEZVuY%2BCNyBncVizRaPx8iMOfZTLy724MHFLM00UQmD6AQIeCgIvDnaSQIz7KzSt8YZsHC%2By9FipmLG6MVUk5uhfWALIdGbIgRsOdoDdIfLhlr6P3yuaJpAf89psTstE9oJZnFRK4vwZ7EEEFPzDXgb8vRFLM6cIbxORk54PxvZOpNLwO6UiykbizcF12%2BUqiCpzyqpfcJwfAg%3D%3D"]]),g]),(0,e._)("div",h,[(0,e.wy)((0,e._)("img",m,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1667894372645.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=IRGffsFnN6Ge4vWO5WkrhSvf84U1b4HbYvA6fjeDR%2BZ57tDwDyhPtx4AfGzsoNg2j0Mw3%2FRkyU%2FBfVg%2BccNn8GKQsh5nyduL%2B8dNA4aGSpWO42%2BcEn2DpqT%2F04BV7RR6Zp90sKQ2TpWzlx58%2FYPVyfQxzCo9ORPy57L%2BkCu1dRPcblDssVB9tWJ%2F%2F0JSZwYO6TBDwO%2FbiuTnJXS%2F%2BzJNtHPKabtMtMB%2FY6RQr9kdCkx73PvgLaWnC1CnRK%2Fo0w0fMOtQ%2FIl284UR2fPK6FyrtrfMuumpGJHu%2BdrtZjjp0PCoE%2FqRZKoqf5QAdC0AcJWrO885kS6ATpVcEB5cg9Y7iw%3D%3D"]]),b]),(0,e._)("div",v,[(0,e.wy)((0,e._)("img",y,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1667894426825.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=HkK%2BoW0K%2BnW%2FEZ9wcSao%2FLd2WFIDzAR6LWtpWmgUSJAsmI%2BPRKB5ng2jfwXRJPgTLyZq%2Bl%2BOkCuV05FhYoRwI7YA1DDbKibSVnTLXnFjEz2ALharcrRgfuQZR70ussHdD7dgAG9cUYl%2BDTfi2A56iuaeol6sRufsijU6anSx106W%2FyHETp42uOolZ55q8uYac0WGXJdqsqfuBsu2wdteEEx%2Bf9ic5lKU4ZorDQUTpdjIXdAbIca6AH326g0FziOinHxYtq4QcRHEHXNRHWKqY89W5mkI%2BXGKAYIvXV92QDLH0VJrNE6uva%2B9hDapaZ1IB1qSMGxIxAX%2F5qZiJUp6gQ%3D%3D"]]),f])]),_])])]),(0,e._)("div",w,[(0,e._)("div",x,[(0,e._)("div",k,[(0,e._)("div",C,[(0,e.wy)((0,e._)("img",B,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1668173632062.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Rri259DKpvGrOcVlMycBqQEYyewiiZN8wFhY48Efvh02IB%2BYXEyFBnAe9fiz1xhYvmisiOVhrPIjCUYH1ukyrgOyFea2cwufm0%2BBJhSfVuAHRnJiowblYH1AuqwReECXMqU0qYAJtiTbRg8Lq%2FQ%2Fo3URXHOPTraLAPJn3BFbEORBqVlvhWvZuV8YWFkV86PWCJCicvEOvZFwFPQUtvWhovT%2BDlOP15BxbWZQDLeGz%2BBuK6kVdk6TBIkqvRn62SCYzL8Ez4DpNZ43VGH6NDUhcqcqEY1QzpKoIi95%2FpWkzNkCLzlIfuB1WdSVGQR9E8VjkKWGWiEpYHi0Nncaaa3MVA%3D%3D"]]),D,F])]),(0,e._)("div",P,[(0,e._)("div",E,[(0,e.wy)((0,e._)("img",M,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1668176921317.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=jVi7nXjvYgSjUAaui5OjQawFOHvcNqMhV9kXe4Kn%2FF8VFrOM0fMxz4%2FKy%2Fg860%2BR468OLsT64wuC%2BTs%2BYt681shvwUXoCO0cuyxv4GvZl2tM6VMr%2BErafNOx6xdMQvYpbut45zUUBcx9nwYbNuaobdBohYwMxW2QMw%2FqdFZALXJIFM1YGvVqvgd%2FUbftl79t5fNKVX2602r5%2B8vbsfW4gNQV1gBpraxNEmOHtrdJLR1AMjeN9i5v4RSIDsMmzovQ2PPthW9VQera%2FXE%2BaZoX03k1KVYQv7TekJA1kJoGC5dUslRL3BUnEpBK%2BGljUJeYqnYi7r1iliFug3OmjlK%2BwQ%3D%3D"]]),q,A])]),(0,e._)("div",z,[(0,e._)("div",Z,[(0,e.wy)((0,e._)("img",R,null,512),[[K,"https://storage.googleapis.com/vue-course-api.appspot.com/sausage/1668178074359.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=V3niDL6R7hzlWfn3RvthPZCniVZgDyVXyRvcopxu7TE2NUXRrt0oosnnZZ%2Fnbo1UDc5NTKhccOmHz1pBJaKtHBFVzv03su9tQ8SEMRb41wb8ZQ9W9AKKMxnX7%2BVxa81x1tlo8d%2FBCCx3oAkt8nUZl2H1RXGpBXkJarccKRz38EP5XFYXOSU2Vsxgd8OvxHQ3y1a2LZqlWRDZ5SaaMczU5mKDztag10ZIcbnbvQUlmBaWLyh3CSL6f2Y2X4KkM82JhCbfhOvVioTyMQfdjiARXTkqmMOw2G8noaEBX8wMf2jUCXnfu3ZBelXe4ExLkbZEYpmwmXHUl1RBy%2FxGgq5X3g%3D%3D"]]),V,O])])]),(0,e._)("div",Y,[(0,e._)("div",S,[(0,e.wy)((0,e._)("img",I,null,512),[[K,"https://images.unsplash.com/photo-1521017432531-fbd92d768814?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"]])]),U]),(0,e._)("section",H,[Q,(0,e.Wm)(W,{onOpenModal:L.openModal},null,8,["onOpenModal"])])]),(0,e.Wm)(G,{ref:"productModal"},null,512)],64)}var L=s(3577);const W=t=>((0,e.dD)("data-v-9726ff2c"),t=t(),(0,e.Cn)(),t),G={class:"container"},K={class:"row"},X={class:"card h-100"},j=["onClick"],$={class:"position-relative d-inline-block overflow-hidden"},J={key:0,class:"position-absolute sellOutTag bg-danger start-50 top-50 translate-middle"},N={class:"card-img-top",alt:"..."},tt={key:0,class:"position-absolute text-white text-nowrap top-50 start-50 translate-middle"},at={class:"card-body d-flex flex-column p-1 p-lg-3"},st={class:"text-center fs-5"},et={class:"text-center fs-7 fs-lg-5 lh-mm mb-3"},it=["data-id"],ot=W((()=>(0,e._)("i",{class:"bi bi-cart-fill fs-5"},null,-1))),ct=[ot];function lt(t,a,s,i,o,c){const l=(0,e.up)("Pagination"),r=(0,e.Q2)("src");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",G,[(0,e._)("div",K,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(c.products,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"col-lg-3 col-md-4 col-6 g-3",key:t.id},[(0,e._)("div",X,[(0,e._)("a",{class:(0,L.C_)(["position-relative",{"card-link":!t.is_soldOut}]),onClick:a=>c.openProductModal(t.id,t.is_soldOut)},[(0,e._)("div",$,[t.is_soldOut?((0,e.wg)(),(0,e.iD)("div",J)):(0,e.kq)("",!0),(0,e.wy)((0,e._)("img",N,null,512),[[r,void 0===t.imageUrl?"":t.imageUrl[0]]])]),t.is_soldOut?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",tt," 加入購物車 "))],10,j),(0,e._)("div",at,[(0,e._)("p",st,(0,L.zw)(t.title),1),(0,e._)("p",et,(0,L.zw)(t.subtitle),1),(0,e._)("button",{type:"button",class:"btn btn-sm btn-outline-primary py-0 d-block d-lg-none mt-auto","data-id":t.id,onClick:a[0]||(a[0]=t=>c.addToCart(t))},ct,8,it)])])])))),128))])]),(0,e.Wm)(l,{class:"mt-4",pages:c.pagination,onEmitPages:c.getProducts},null,8,["pages","onEmitPages"])],64)}var rt=s(9103),nt=s(6486),dt=s.n(nt),ut={components:{Pagination:rt.Z},emits:["open-modal"],data(){return{}},created(){this.getProducts(1,"飲品")},methods:{getProducts:dt().debounce((async function(t=1,a){try{const s={page:t,category:a};await this.$store.dispatch("Products/getFrontProducts",s),this.$store.dispatch("Products/setTempProduct",a),this.$store.dispatch("handLoading",!1)}catch(s){throw this.$store.dispatch("handLoading",!1),new Error(s)}}),500),openProductModal(t,a){a||this.$emit("open-modal",t)},addToCart:dt().debounce((async function(t){const a=t.target.dataset.id,s={product_id:a,qty:1};try{const t=await this.$store.dispatch("Cart/addCart",s),a=t.data.data.product.title;this.$store.dispatch("fireToast",{title:`「${a}」已加入購物車`,style:"success"}),this.$store.dispatch("Cart/getCart"),this.$store.dispatch("Cart/setShake")}catch(e){throw new Error(e)}}),500)},computed:{products(){return this.$store.getters["Products/productsData"]},pagination(){return this.$store.getters["Products/productsPage"]}}},pt=s(3744);const gt=(0,pt.Z)(ut,[["render",lt],["__scopeId","data-v-9726ff2c"]]);var ht=gt,mt=s(7923);const bt=t=>((0,e.dD)("data-v-55949949"),t=t(),(0,e.Cn)(),t),vt={id:"productModal",ref:"modal",class:"modal scale-in-center",tabindex:"-1"},yt={class:"modal-dialog modal-dialog-centered modal-lg"},ft={class:"modal-content"},_t={class:"modal-header bg-primary"},wt={class:"modal-title text-white"},xt=bt((()=>(0,e._)("button",{type:"button",class:"btn-close bg-gray me-1","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),kt={class:"modal-body"},Ct={class:"container mt-3"},Bt={class:"row row-cols-lg-2 row-cols-1"},Dt={class:"col"},Ft={class:"row mb-2"},Pt={class:"col"},Et={key:0,ref:"pic1",class:"img-fluid img-thumbnail",alt:""},Mt={class:"row g-3"},qt=["src"],At={class:"col mt-4 mt-lg-0"},zt={class:"text-start text-break"},Zt={class:"text-start text-break mb-lg-5 mb-3"},Rt={class:"text-start mb-lg-5 mb-3"},Vt={key:0},Ot={class:"col-12 d-flex align-items-center mb-3"},Yt={class:"text-center fs-5 me-auto"},St={class:"ms-auto text-break fs-4"},It={key:0,class:"text-decoration-line-through text-danger text-break me-2"},Ut={class:"col-12 mb-4"},Ht={key:0,class:"input-group input-group-sm flex-nowrap"},Qt={class:"d-flex"},Tt={class:"col pe-1"},Lt={key:0,class:"position-absolute top-50 end-0 translate-middle"},Wt=bt((()=>(0,e._)("img",{class:"loading",src:mt,alt:""},null,-1))),Gt=[Wt],Kt={class:"col ps-1"};function Xt(t,a,s,i,o,c){const l=(0,e.up)("AddMinBtn"),r=(0,e.Q2)("src");return(0,e.wg)(),(0,e.iD)("div",vt,[(0,e._)("div",yt,[(0,e._)("div",ft,[(0,e._)("div",_t,[(0,e._)("h5",wt,(0,L.zw)(o.product.title),1),xt]),(0,e._)("div",kt,[(0,e._)("div",Ct,[(0,e._)("div",Bt,[(0,e._)("div",Dt,[(0,e._)("div",Ft,[(0,e._)("div",Pt,[o.isShow?(0,e.wy)(((0,e.wg)(),(0,e.iD)("img",Et,null,512)),[[r,[o.product.imageUrl]]]):(0,e.kq)("",!0)])]),(0,e._)("div",Mt,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(o.product.imageUrl.splice(1),((t,s)=>((0,e.wg)(),(0,e.iD)("div",{key:t+s,class:"col-4",onClick:a[0]||(a[0]=t=>c.changPic(t))},[(0,e._)("img",{class:"subImg img-fluid img-thumbnail",src:t,alt:""},null,8,qt)])))),128))])]),(0,e._)("div",At,[(0,e._)("h3",zt,(0,L.zw)(o.product.title),1),(0,e._)("h4",Zt,(0,L.zw)(o.product.subtitle),1),(0,e._)("p",Rt,(0,L.zw)(o.product.description),1),o.isShow?((0,e.wg)(),(0,e.iD)("div",Vt,[(0,e._)("div",Ot,[(0,e._)("p",Yt," 單位("+(0,L.zw)(o.unitAry[0])+") ",1),(0,e._)("p",St,[o.product.origin_price!==o.product.price?((0,e.wg)(),(0,e.iD)("span",It," NT$"+(0,L.zw)(o.product.origin_price),1)):(0,e.kq)("",!0),(0,e.Uk)(" NT$"+(0,L.zw)(o.product.price),1)])]),(0,e._)("div",Ut,[o.isShow?((0,e.wg)(),(0,e.iD)("div",Ht,[(0,e.Wm)(l,{val:o.qty,onAdd:c.add,onMin:c.min,onPushVal:c.pushVal},null,8,["val","onAdd","onMin","onPushVal"])])):(0,e.kq)("",!0)]),(0,e._)("div",Qt,[(0,e._)("div",Tt,[o.isShow?((0,e.wg)(),(0,e.iD)("button",{key:0,type:"button",class:"btn btn-primary w-100 position-relative",onClick:a[1]||(a[1]=(...t)=>c.addToCart&&c.addToCart(...t))},[o.isLoading?((0,e.wg)(),(0,e.iD)("div",Lt,Gt)):(0,e.kq)("",!0),(0,e.Uk)(" 加入購物車 ")])):(0,e.kq)("",!0)]),(0,e._)("div",Kt,[o.isShow?((0,e.wg)(),(0,e.iD)("button",{key:0,type:"button",class:"btn btn-success w-100",onClick:a[2]||(a[2]=t=>c.addToCart("goCart"))}," 立即購買 ")):(0,e.kq)("",!0)])])])):(0,e.kq)("",!0)])])])])])])],512)}s(7658);var jt=s(1339),$t=s(183),Jt={mixins:[jt.Z],components:{AddMinBtn:$t.Z},data(){return{product:{imageUrl:[]},isShow:!1,isLoading:!1,unitAry:[],cartQty:null,qty:1}},methods:{add(){this.qty++,this.qty>999&&(this.qty=999)},min(){this.qty--,this.qty<=1&&(this.qty=1)},pushVal(t){this.qty=t},addToCart:dt().debounce((async function(t){const a=999-this.cartQty;if(0===a)return void this.$store.dispatch("fireToast",{title:"商品數量已達上限",style:"danger"});this.isLoading=!0;const s={product_id:this.product.id,qty:this.qty};try{const a=await this.$store.dispatch("Cart/addCart",s),e=a.data.data.product.title;this.$store.dispatch("Cart/getCart"),this.$store.dispatch("fireToast",{title:`「${e}」已加入購物車`,style:"success"}),this.$store.dispatch("Cart/setShake"),this.isLoading=!1,this.hideModal(),"goCart"===t&&this.$router.push({path:"/cart"})}catch(e){throw new Error(e)}}),500),async getProduct(t){try{const a=await this.$store.dispatch("Products/getSingleProduct",t);this.product=a.data.product,this.unitAry=this.product.unit.split("、"),this.isShow=!0}catch(a){throw new Error(a)}},changPic(t){let a=t.target.getAttribute("src"),s=this.$refs.pic1.getAttribute("src");t.target.setAttribute("src",s),this.$refs.pic1.setAttribute("src",a)},async getCart(){try{const t=await this.$store.dispatch("Cart/getCart"),{id:a}=this.$route.params,s=t.data.data.carts,[e]=s.filter((t=>t.product.id===a));this.cartQty=e?.qty||0}catch(t){throw new Error(t)}}},mounted(){this.getCart()}};const Nt=(0,pt.Z)(Jt,[["render",Xt],["__scopeId","data-v-55949949"]]);var ta=Nt,aa={inject:["emitter"],components:{ProductsSection:ht,ProductModal:ta},data(){return{id:""}},created(){this.$store.dispatch("handLoading",!0)},methods:{openModal(t){const a=this.$refs.productModal;a.openModal(),a.getProduct(t)}}};const sa=(0,pt.Z)(aa,[["render",T],["__scopeId","data-v-2e438912"]]);var ea=sa},7923:function(t,a,s){t.exports=s.p+"img/load.c8fc3381.gif"}}]);
//# sourceMappingURL=539.0b9d1e4e.js.map