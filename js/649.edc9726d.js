"use strict";(self["webpackChunkog_coffee"]=self["webpackChunkog_coffee"]||[]).push([[649],{6781:function(a,t,s){s.d(t,{Z:function(){return f}});var n=s(6252),e=s(3577);const o=a=>((0,n.dD)("data-v-34cbfb1f"),a=a(),(0,n.Cn)(),a),c=o((()=>(0,n._)("i",{class:"bi bi-chevron-bar-up fs-1 text-white"},null,-1))),i=[c];function l(a,t,s,o,c,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,e.C_)([{"d-none":!s.active},"upBtn d-flex align-items-center justify-content-center shadow"]),onClick:t[0]||(t[0]=t=>a.$emit("upToTop"))},i,2)}var r={props:{active:Boolean}},d=s(3744);const v=(0,d.Z)(r,[["render",l],["__scopeId","data-v-34cbfb1f"]]);var f=v},2649:function(a,t,s){s.r(t),s.d(t,{default:function(){return Z}});var n=s(6252);const e={class:"box",ref:"box"};function o(a,t,s,o,c,i){const l=(0,n.up)("AdminNavbar"),r=(0,n.up)("router-view"),d=(0,n.up)("UpBtn");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l),(0,n._)("div",e,[c.checkSuccess?((0,n.wg)(),(0,n.j4)(r,{key:0})):(0,n.kq)("",!0)],512),(0,n.Wm)(d,{active:c.active,onUpToTop:i.moveTop},null,8,["active","onUpToTop"])],64)}s(7658);var c=s(9963);const i=a=>((0,n.dD)("data-v-68ac5e46"),a=a(),(0,n.Cn)(),a),l={class:"navbar navbar-dark bg-tertiary fixed-top"},r={class:"container"},d=i((()=>(0,n._)("button",{class:"navbar-toggler d-lg-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1))),v={class:"navbar-nav d-lg-flex d-none flex-row mb-2 mb-lg-0"},f={class:"nav-item"},u={class:"nav-item"},b={class:"nav-item"},h={class:"nav-item"},p={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},m=i((()=>(0,n._)("div",{class:"offcanvas-header bg-dark"},[(0,n._)("h5",{class:"offcanvas-title text-secondary",id:"offcanvasNavbarLabel"}," OG-Coffee "),(0,n._)("button",{type:"button",class:"btn-close text-reset bg-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),g={class:"offcanvas-body bg-dark"},_={class:"navbar-nav d-flex mb-2 mb-lg-0"},k={class:"nav-item","data-bs-dismiss":"offcanvas"},w={class:"nav-item","data-bs-dismiss":"offcanvas"},x={class:"nav-item","data-bs-dismiss":"offcanvas"},y={class:"nav-item","data-bs-dismiss":"offcanvas"};function T(a,t,s,e,o,i){const T=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",l,[(0,n._)("div",r,[(0,n.Wm)(T,{class:"navbar-brand px-3 brand-hover",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("回前台")])),_:1}),d,(0,n._)("ul",v,[(0,n._)("li",f,[(0,n.Wm)(T,{class:"nav-link px-2",to:"/admin/product"},{default:(0,n.w5)((()=>[(0,n.Uk)("產品列表")])),_:1})]),(0,n._)("li",u,[(0,n.Wm)(T,{class:"nav-link px-2",to:"/admin/order"},{default:(0,n.w5)((()=>[(0,n.Uk)("訂單")])),_:1})]),(0,n._)("li",b,[(0,n.Wm)(T,{class:"nav-link px-2",to:"/admin/coupon"},{default:(0,n.w5)((()=>[(0,n.Uk)("優惠卷")])),_:1})]),(0,n._)("li",h,[(0,n.Wm)(T,{class:"nav-link px-2",to:"/admin/article"},{default:(0,n.w5)((()=>[(0,n.Uk)("文章")])),_:1})])]),(0,n._)("a",{href:"#",type:"button",class:"btn btn-outline-secondary ms-auto d-none d-lg-inline-block",onClick:t[0]||(t[0]=(0,c.iM)(((...a)=>i.logout&&i.logout(...a)),["prevent"]))},"登出"),(0,n._)("div",p,[m,(0,n._)("div",g,[(0,n._)("ul",_,[(0,n._)("li",k,[(0,n.Wm)(T,{class:"nav-link brand-hover",to:"/admin/product"},{default:(0,n.w5)((()=>[(0,n.Uk)("產品列表")])),_:1})]),(0,n._)("li",w,[(0,n.Wm)(T,{class:"nav-link brand-hover",to:"/admin/order"},{default:(0,n.w5)((()=>[(0,n.Uk)("訂單")])),_:1})]),(0,n._)("li",x,[(0,n.Wm)(T,{class:"nav-link brand-hover",to:"/admin/coupon"},{default:(0,n.w5)((()=>[(0,n.Uk)("優惠卷")])),_:1})]),(0,n._)("li",y,[(0,n.Wm)(T,{class:"nav-link brand-hover",to:"/admin/article"},{default:(0,n.w5)((()=>[(0,n.Uk)("貼文")])),_:1})])]),(0,n._)("a",{href:"#",type:"button",class:"btn btn-outline-secondary ms-auto",onClick:t[1]||(t[1]=(0,c.iM)(((...a)=>i.logout&&i.logout(...a)),["prevent"]))},"登出")])])])])}var $=s(3372),C={methods:{async logout(){try{const a=await(0,$.yS)();this.$store.dispatch("fireToast",{res:a}),a.data.success&&this.$router.push("/")}catch(a){throw new Error(a)}}}},U=s(3744);const W=(0,U.Z)(C,[["render",T],["__scopeId","data-v-68ac5e46"]]);var N=W,B=s(6781),D={data(){return{checkSuccess:!1,active:!1}},components:{AdminNavbar:N,UpBtn:B.Z},created(){this.$store.dispatch("handLoading",!0),this.checkLogin()},mounted(){const a=this.$refs.box;a.onscroll=()=>{a.scrollTop+a.getBoundingClientRect().bottom>a.scrollHeight/2&&a.scrollTop+a.getBoundingClientRect().bottom>window.screen.height?this.active=!0:this.active=!1}},methods:{async checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)ogCoffeeToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a)try{await(0,$.nq)(a),this.checkSuccess=!0}catch(t){this.$store.dispatch("fireToast",{title:"請重新登入"}),this.$store.dispatch("toPage","/admin"),this.$router.push("/login")}else this.$store.dispatch("toPage","/admin"),this.$store.dispatch("fireToast",{title:"請先登入"}),this.$router.push("/login")},moveTop(){this.$refs.box.scrollTo({top:0,behavior:"smooth"})}}};const L=(0,U.Z)(D,[["render",o],["__scopeId","data-v-4f486135"]]);var Z=L}}]);
//# sourceMappingURL=649.edc9726d.js.map