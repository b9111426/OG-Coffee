{"version":3,"file":"js/16.6ad6e72f.js","mappings":"wQACOA,MAAM,kB,GACJA,MAAM,O,GACJA,MAAM,wB,GAEJA,MAAM,oB,UAePC,EAAAA,EAAAA,GAA4B,KAAzBD,MAAM,gBAAc,W,GAAvBE,G,GAKCF,MAAM,qB,GAEPA,MAAM,qE,SAMFA,MAAM,gEACNG,IAAAC,EACAC,IAAI,I,yCAiBJJ,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,yBAAuB,W,oDAsBnCA,MAAM,qB,eAgBRA,MAAM,wB,GACJA,MAAM,wD,GAEJ,aAAW,c,GACVA,MAAM,yBAAyBM,IAAI,c,GACjCN,MAAM,mB,SAGyBA,MAAM,mB,SACDA,MAAM,mB,GAIxCA,MAAM,mB,uBAQNA,MAAM,mB,GAcWA,MAAM,4B,UACtBC,EAAAA,EAAAA,GACR,KADWD,MAAM,2BAAyB,W,GAEnBA,MAAM,4B,UACrBC,EAAAA,EAAAA,GACR,KADWD,MAAM,yBAAuB,W,GAKxCA,MAAM,oC,SAIPA,MAAM,2D,UAENC,EAAAA,EAAAA,GAA6D,OAAxDD,MAAM,UAAUG,IA1GjBC,EA0GgDC,IAAI,I,cAAxDE,G,0EA3IVC,EAAAA,EAAAA,IAkJM,MAlJNC,EAkJM,EAjJJR,EAAAA,EAAAA,GAgJM,MAhJNS,EAgJM,EA/IJT,EAAAA,EAAAA,GAsFM,MAtFNU,EAsFM,EApFJV,EAAAA,EAAAA,GAiBM,MAjBNW,EAiBM,WAhBJX,EAAAA,EAAAA,GAOE,SANAY,KAAK,OACLb,MAAM,e,qCACGc,EAAAA,WAAU,GAClBC,QAAK,8BAAQC,EAAAA,eAAAA,EAAAA,iBAAAA,IAAa,YAC3B,aAAW,uBACX,mBAAiB,iB,iBAHRF,EAAAA,eAKXb,EAAAA,EAAAA,GAOS,UANPD,MAAM,kBACNa,KAAK,SACLI,GAAG,gBACFC,QAAK,oBAAEF,EAAAA,eAAAA,EAAAA,iBAAAA,K,MAOZf,EAAAA,EAAAA,GAgDM,MAhDNkB,EAgDM,EA/CJlB,EAAAA,EAAAA,GAYI,IAZJmB,EAYI,UAVH,SAEC,OAOO,aALGN,EAAAA,aAAU,WADlBN,EAAAA,EAAAA,IAKE,MALFa,KAKE,kCAGNb,EAAAA,EAAAA,IAiCMc,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAjC8BN,EAAAA,cAAY,CAAvBO,EAAGC,M,WAA5BhB,EAAAA,EAAAA,IAiCM,OAjCDR,MAAM,MAAwCyB,IAAKD,EAAM,M,EAC5DvB,EAAAA,EAAAA,GAcI,KAbFD,MAAM,gCACN,iBAAe,WACd0B,KAAI,YAAcF,K,EAEnBvB,EAAAA,EAAAA,GAQM,OAPJD,MAAM,yCACLkB,QAAK,eAAEF,EAAAA,eAAeW,IACtB,gBAAeJ,EAAEK,U,EAElB3B,EAAAA,EAAAA,GAA6B,qBAApBsB,EAAEK,UAAQ,IACnB3B,EAAAA,EAAAA,GAAwB,qBAAfsB,EAAEM,KAAG,GACdC,GAAqC,0BAGzCtB,EAAAA,EAAAA,IAgBMc,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAfQC,EAAEQ,cAAPC,K,WADTxB,EAAAA,EAAAA,IAgBM,OAdHiB,IAAKO,EACNhC,MAAM,mCACLiB,GAAE,WAAaO,K,EAEhBvB,EAAAA,EAAAA,GASI,KARFyB,KAAK,eACL1B,MAAM,kDACLkB,QAAK,eAAEF,EAAAA,kBAAkBW,IACzB,oBAAmBK,EAAEJ,SACrB,gBAAeL,EAAEK,U,EAElB3B,EAAAA,EAAAA,GAA6B,qBAApB+B,EAAEJ,UAAQ,IACnB3B,EAAAA,EAAAA,GAAwB,qBAAf+B,EAAEH,KAAG,kB,oBAKtB5B,EAAAA,EAAAA,GAcM,MAdNgC,EAcM,EAbJhC,EAAAA,EAAAA,GAYS,UAXPD,MAAM,cACLkC,SAAM,eAAElB,EAAAA,eAAeW,IACxB,aAAW,mB,gBAEXnB,EAAAA,EAAAA,IAMSc,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAJYN,EAAAA,cAAY,CAAvBO,EAAGC,M,WAFbhB,EAAAA,EAAAA,IAMS,UALN2B,MAAOZ,EAAEK,SAETH,IAAKD,EAAM,O,QAETD,EAAEK,UAAQ,Q,gBAKrB3B,EAAAA,EAAAA,GAuDM,MAvDNmC,EAuDM,EAtDJnC,EAAAA,EAAAA,GAyCM,MAzCNoC,EAyCM,EAvCJpC,EAAAA,EAAAA,GAuBM,MAvBNqC,EAuBM,EAtBJrC,EAAAA,EAAAA,GAqBK,KArBLsC,EAqBK,EApBHtC,EAAAA,EAAAA,GAEK,KAFLuC,EAEK,EADHvC,EAAAA,EAAAA,GAAyD,KAAtDyB,KAAK,eAAgBR,QAAK,oBAAEF,EAAAA,gBAAAA,EAAAA,kBAAAA,KAAgB,YAEjB,IAAtBF,EAAAA,WAAW2B,SAAM,WAA3BjC,EAAAA,EAAAA,IAAgE,KAAhEkC,IACqC,IAAtB5B,EAAAA,WAAW2B,SAAM,WAAhCjC,EAAAA,EAAAA,IAEK,KAFLmC,GAEK,QADA7B,EAAAA,WAAW,IAAD,iBAEfN,EAAAA,EAAAA,IAYWc,EAAAA,GAAAA,CAAAG,IAAAA,GAAA,EAXTxB,EAAAA,EAAAA,GAOK,KAPL2C,EAOK,EANH3C,EAAAA,EAAAA,GAKC,KAJCyB,KAAK,eACJR,QAAK,eAAEF,EAAAA,eAAeW,IACtB,gBAAeb,EAAAA,WAAW,K,QACvBA,EAAAA,WAAW,IAAD,QAGlBb,EAAAA,EAAAA,GAEK,KAFL4C,GAEK,QADA/B,EAAAA,WAAW,IAAD,2BAOrBb,EAAAA,EAAAA,GAYI,KAVFyB,KAAK,eACL1B,MAAM,sDACLkB,QAAK,oBAAEF,EAAAA,YAAAA,EAAAA,cAAAA,K,WAERf,EAAAA,EAAAA,GAEQ,OAFR6C,EAEQ,UADL,UAAM,GACR,aAFchC,EAAAA,aAAQ,SAGvBb,EAAAA,EAAAA,GAEQ,OAFR8C,EAEQ,UADL,UAAM,GACR,YAFajC,EAAAA,aAAQ,YARdE,EAAAA,gBAcZf,EAAAA,EAAAA,GAUM,MAVN+C,EAUM,CAPIhC,EAAAA,YAAS,WADjBR,EAAAA,EAAAA,IAKM,MALNyC,EAKM,qBAENC,EAAAA,EAAAA,IAA2BC,U,gCASrC,GACEC,OACE,MAAO,CACLC,YAAY,EACZC,UAAU,EACVC,WAAY,GACZC,WAAY,GAEhB,EACAC,UACEC,KAAKC,YAAY,EAAGD,KAAKE,eAEzBF,KAAKF,WAAWK,KAAKH,KAAKE,eAC1BF,KAAKI,OAAOC,SAAS,eAAe,EACtC,EACAC,QAAS,CACPC,cAAcC,GACZR,KAAKS,UAAYD,CACnB,EACAP,YAAaS,IAAAA,UAAWC,eAAgBC,EAAO,EAAG1C,GAChD,IACE8B,KAAKL,YAAa,EAClB,MAAMD,EAAO,CAAEkB,OAAM1C,kBACf8B,KAAKI,OAAOC,SAAS,4BAA6BX,GACxDM,KAAKI,OAAOC,SAAS,0BAA2BnC,GAChD8B,KAAKL,YAAa,EAClBK,KAAKI,OAAOC,SAAS,eAAe,GACpCL,KAAKa,QAAQV,KAAK,YAIpB,CAHE,MAAOW,GAEP,MADAd,KAAKI,OAAOC,SAAS,eAAe,GAC9B,IAAIU,MAAMD,EAClB,CACF,GAAG,KAEHE,eAAeC,GACb,MAAM/C,EAAW+C,EAAEC,cAAcC,QAAQjD,SACzC8B,KAAKF,WAAa,GAClBE,KAAKF,WAAWK,KAAKjC,GACrB8B,KAAKI,OAAOC,SAAS,0BAA2BnC,GAChD8B,KAAKC,YAAY,EAAG/B,GACpB8B,KAAKI,OAAOC,SAAS,yBAAyB,EAChD,EACAe,eAAeH,GACb,MAAM/C,EAAW+C,EAAEI,OAAO5C,MAC1BuB,KAAKF,WAAa,GAClBE,KAAKF,WAAWK,KAAKjC,GACrB8B,KAAKI,OAAOC,SAAS,0BAA2BnC,GAChD8B,KAAKC,YAAY,EAAG/B,GACpB8B,KAAKI,OAAOC,SAAS,yBAAyB,EAChD,EACAiB,gBACiC,KAA3BtB,KAAKH,WAAW0B,SAGpBvB,KAAKI,OAAOC,SAAS,yBAA0BL,KAAKH,YACpDG,KAAKa,QAAQV,KAAK,aAClBH,KAAKH,WAAa,GAClBG,KAAKF,WAAa,GACpB,EACA0B,eAAgBd,IAAAA,UAAW,WACzBV,KAAKF,WAAa,GAClBE,KAAKC,cACLD,KAAKI,OAAOC,SAAS,yBAAyB,EAChD,GAAG,KACHoB,kBAAkBR,GAChB,MAAMS,EAAcT,EAAEC,cAAcC,QAAQ9C,aACtCH,EAAW+C,EAAEC,cAAcC,QAAQjD,SACzC8B,KAAKF,WAAa,CAAC5B,EAAUwD,GAC7B1B,KAAKI,OAAOC,SAAS,6BAA8BqB,GACnD1B,KAAKI,OAAOC,SAAS,yBAAyB,GAC9CL,KAAKa,QAAQV,KAAK,YACpB,EACAwB,aACE3B,KAAKJ,UAAYI,KAAKJ,SACtBI,KAAKI,OAAOC,SAAS,sBAAuBL,KAAKJ,SACnD,GAEFgC,SAAU,CACRnB,YACE,OAAOT,KAAKI,OAAOyB,QAAQ,wBAC7B,EACAC,eACE,OAAO9B,KAAKI,OAAOyB,QAAQ,oBAC7B,EACAE,YACE,OAAO/B,KAAKI,OAAOyB,QAAQ,qBAC7B,EACA3B,gBACE,OAAOF,KAAKI,OAAOyB,QAAQ,yBAC7B,GAEFG,MAAO,CACL9B,cAAc+B,GACZjC,KAAKC,YAAY,EAAGgC,EACtB,I,UC/OJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://og-coffee/./src/views/FrontView/ProductsView.vue","webpack://og-coffee/./src/views/FrontView/ProductsView.vue?9741"],"sourcesContent":["<template>\r\n  <div class=\"container mt-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-3 col-12 py-2\">\r\n        <!--收尋功能-->\r\n        <div class=\"input-group mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            v-model=\"searchName\"\r\n            @keyup.enter=\"searchProduct\"\r\n            aria-label=\"Recipient's username\"\r\n            aria-describedby=\"button-addon2\"\r\n          />\r\n          <button\r\n            class=\"btn btn-primary\"\r\n            type=\"button\"\r\n            id=\"button-addon2\"\r\n            @click=\"searchProduct\"\r\n          >\r\n            <i class=\"bi bi-search\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <!--分類篩選-->\r\n        <div class=\"d-none d-lg-block\">\r\n          <p\r\n            class=\"border-bottom py-2 border-gray-dark position-relative select-none\"\r\n          >\r\n            分類\r\n            <span>\r\n              <img\r\n                v-if=\"isLoading2\"\r\n                class=\"loading2 position-absolute end-0 top-50 me-5 translate-middle\"\r\n                src=\"@/assets/images/load.gif\"\r\n                alt=\"\"\r\n              />\r\n            </span>\r\n          </p>\r\n          <div class=\"p-3\" v-for=\"(i, idx) in categoryList\" :key=\"idx + 5678\">\r\n            <a\r\n              class=\"collapsed fw-bold select-none\"\r\n              data-bs-toggle=\"collapse\"\r\n              :href=\"`#collapse${idx}`\"\r\n            >\r\n              <div\r\n                class=\"d-flex justify-content-between bg-gray\"\r\n                @click=\"renderCategory($event)\"\r\n                :data-category=\"i.category\"\r\n              >\r\n                <span>{{ i.category }}</span>\r\n                <span>{{ i.num }}</span>\r\n                <i class=\"bi bi-caret-left-fill\"></i>\r\n              </div>\r\n            </a>\r\n            <div\r\n              v-for=\"x in i.sub_category\"\r\n              :key=\"x\"\r\n              class=\"collapse text-start text-primary\"\r\n              :id=\"`collapse${idx}`\"\r\n            >\r\n              <a\r\n                href=\"javascript:;\"\r\n                class=\"d-flex justify-content-between ms-2 select-none\"\r\n                @click=\"renderSubCategory($event)\"\r\n                :data-sub_category=\"x.category\"\r\n                :data-category=\"i.category\"\r\n              >\r\n                <span>{{ x.category }}</span>\r\n                <span>{{ x.num }}</span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-lg-none d-block\">\r\n          <select\r\n            class=\"form-select\"\r\n            @change=\"selectCategory($event)\"\r\n            aria-label=\"select category\"\r\n          >\r\n            <option\r\n              :value=\"i.category\"\r\n              v-for=\"(i, idx) in categoryList\"\r\n              :key=\"idx + 5678\"\r\n            >\r\n              {{ i.category }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-9 col-12 py-2\">\r\n        <div class=\"d-flex align-items-center justify-content-start mb-3\">\r\n          <!--麵包屑-->\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb select-none\" ref=\"breadcrumb\">\r\n              <li class=\"breadcrumb-item\">\r\n                <a href=\"javascript:;\" @click=\"setAllProducts\"> 全部商品 </a>\r\n              </li>\r\n              <li v-if=\"breadcrumb.length === 0\" class=\"breadcrumb-item\"></li>\r\n              <li v-else-if=\"breadcrumb.length === 1\" class=\"breadcrumb-item\">\r\n                {{ breadcrumb[0] }}\r\n              </li>\r\n              <template v-else>\r\n                <li class=\"breadcrumb-item\">\r\n                  <a\r\n                    href=\"javascript:;\"\r\n                    @click=\"renderCategory($event)\"\r\n                    :data-category=\"breadcrumb[0]\"\r\n                    >{{ breadcrumb[0] }}</a\r\n                  >\r\n                </li>\r\n                <li class=\"breadcrumb-item\">\r\n                  {{ breadcrumb[1] }}\r\n                </li>\r\n              </template>\r\n            </ol>\r\n          </nav>\r\n\r\n          <!--排序功能-->\r\n          <a\r\n            v-show=\"sortState\"\r\n            href=\"javascript:;\"\r\n            class=\"ms-5 link-dark border-bottom border-primary ms-auto\"\r\n            @click=\"switchSort\"\r\n          >\r\n            <span v-show=\"!sortRise\" class=\"text-primary select-none\"\r\n              >價格由高至低<i class=\"bi bi-chevron-down ps-1\"></i\r\n            ></span>\r\n            <span v-show=\"sortRise\" class=\"text-primary select-none\"\r\n              >價格由低至高<i class=\"bi bi-chevron-up ps-1\"></i\r\n            ></span>\r\n          </a>\r\n        </div>\r\n\r\n        <div class=\"row row-cols-1 position-relative\">\r\n          <!--loading icon-->\r\n          <div\r\n            v-if=\"isLoading\"\r\n            class=\"position-absolute top-50 start-50 translate-middle my-5\"\r\n          >\r\n            <img class=\"loading\" src=\"@/assets/images/load.gif\" alt=\"\" />\r\n          </div>\r\n\r\n          <router-view></router-view>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading2: false,\r\n      sortRise: false,\r\n      searchName: '',\r\n      breadcrumb: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getProducts(1, this.firstCategory)\r\n\r\n    this.breadcrumb.push(this.firstCategory)\r\n    this.$store.dispatch('handLoading', true)\r\n  },\r\n  methods: {\r\n    toggleLoading(boolean) {\r\n      this.isLoading = boolean\r\n    },\r\n    getProducts: _.debounce(async function (page = 1, category) {\r\n      try {\r\n        this.isLoading2 = true\r\n        const data = { page, category }\r\n        await this.$store.dispatch('Products/getFrontProducts', data)\r\n        this.$store.dispatch('Products/setTempProduct', category)\r\n        this.isLoading2 = false\r\n        this.$store.dispatch('handLoading', false)\r\n        this.$router.push('/products')\r\n      } catch (err) {\r\n        this.$store.dispatch('handLoading', false)\r\n        throw new Error(err)\r\n      }\r\n    }, 500),\r\n\r\n    renderCategory(e) {\r\n      const category = e.currentTarget.dataset.category\r\n      this.breadcrumb = []\r\n      this.breadcrumb.push(category)\r\n      this.$store.dispatch('Products/setTempProduct', category)\r\n      this.getProducts(1, category)\r\n      this.$store.dispatch('Products/setSortState', true)\r\n    },\r\n    selectCategory(e) {\r\n      const category = e.target.value\r\n      this.breadcrumb = []\r\n      this.breadcrumb.push(category)\r\n      this.$store.dispatch('Products/setTempProduct', category)\r\n      this.getProducts(1, category)\r\n      this.$store.dispatch('Products/setSortState', true)\r\n    },\r\n    searchProduct() {\r\n      if (this.searchName.trim() === '') {\r\n        return\r\n      }\r\n      this.$store.dispatch('Products/searchProduct', this.searchName)\r\n      this.$router.push('/products')\r\n      this.searchName = ''\r\n      this.breadcrumb = []\r\n    },\r\n    setAllProducts: _.debounce(function () {\r\n      this.breadcrumb = []\r\n      this.getProducts()\r\n      this.$store.dispatch('Products/setSortState', true)\r\n    }, 500),\r\n    renderSubCategory(e) {\r\n      const subCategory = e.currentTarget.dataset.sub_category\r\n      const category = e.currentTarget.dataset.category\r\n      this.breadcrumb = [category, subCategory]\r\n      this.$store.dispatch('Products/searchSubCategory', subCategory)\r\n      this.$store.dispatch('Products/setSortState', true)\r\n      this.$router.push('/products')\r\n    },\r\n    switchSort() {\r\n      this.sortRise = !this.sortRise\r\n      this.$store.dispatch('Products/switchSort', this.sortRise)\r\n    }\r\n  },\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.getters['Products/loadingState']\r\n    },\r\n    categoryList() {\r\n      return this.$store.getters['Products/category']\r\n    },\r\n    sortState() {\r\n      return this.$store.getters['Products/sortState']\r\n    },\r\n    firstCategory() {\r\n      return this.$store.getters['Products/firstCategory']\r\n    }\r\n  },\r\n  watch: {\r\n    firstCategory(val) {\r\n      this.getProducts(1, val)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loading {\r\n  width: 90px;\r\n  height: 80px;\r\n}\r\n.loading2 {\r\n  height: 40px;\r\n}\r\n.bi-caret-left-fill {\r\n  transform: rotate(-90deg);\r\n  transition: transform 0.3s;\r\n}\r\n.collapsed {\r\n  .bi-caret-left-fill {\r\n    transform: rotate(0deg);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ProductsView.vue?vue&type=template&id=12691d6f&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=12691d6f&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12691d6f\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","src","_imports_0","alt","ref","_hoisted_33","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","$data","onKeyup","$options","id","onClick","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","i","idx","key","href","$event","category","num","_hoisted_12","sub_category","x","_hoisted_15","onChange","value","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","length","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_31","_hoisted_32","_createVNode","_component_router_view","data","isLoading2","sortRise","searchName","breadcrumb","created","this","getProducts","firstCategory","push","$store","dispatch","methods","toggleLoading","boolean","isLoading","_","async","page","$router","err","Error","renderCategory","e","currentTarget","dataset","selectCategory","target","searchProduct","trim","setAllProducts","renderSubCategory","subCategory","switchSort","computed","getters","categoryList","sortState","watch","val","__exports__","render"],"sourceRoot":""}