{"version":3,"file":"js/956.59fb6488.js","mappings":"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","sources":["webpack://og-coffee/./src/views/LoginView.vue","webpack://og-coffee/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"vh-100 d-flex flex-column align-items-center justify-content-center\"\r\n    >\r\n      <div class=\"row justify-content-center\">\r\n        <h1 class=\"h2 mb-3 font-weight-normal\">會員登入</h1>\r\n        <div class=\"col-8\">\r\n          <form id=\"form\" class=\"form-signin\" @submit.prevent=\"login\">\r\n            <div class=\"form-floating mb-3\">\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                id=\"username\"\r\n                placeholder=\"name@example.com\"\r\n                v-model=\"user.username\"\r\n                required\r\n                autofocus\r\n              />\r\n              <label for=\"username\">Email address</label>\r\n            </div>\r\n            <div class=\"form-floating\">\r\n              <input\r\n                :type=\"isEyeShow ? 'password' : 'type'\"\r\n                class=\"form-control position-relative\"\r\n                id=\"password\"\r\n                placeholder=\"Password\"\r\n                v-model=\"user.password\"\r\n                required\r\n              />\r\n              <span\r\n                class=\"eyeIcon position-absolute top-0 end-0 mt-2 me-3\"\r\n                @click=\"switchIcon\"\r\n              >\r\n                <i v-show=\"!isEyeShow\" class=\"bi bi-eye text-primary fs-4\"></i>\r\n                <i\r\n                  v-show=\"isEyeShow\"\r\n                  class=\"bi bi-eye-slash text-primary fs-4\"\r\n                ></i>\r\n              </span>\r\n\r\n              <label for=\"password\">Password</label>\r\n            </div>\r\n\r\n            <div class=\"form-check my-3 d-flex justify-content-start\">\r\n              <input\r\n                class=\"form-check-input me-2\"\r\n                type=\"checkbox\"\r\n                id=\"loginChecked\"\r\n                @input=\"saveCode\"\r\n                :checked=\"isSave\"\r\n              />\r\n              <label class=\"form-check-label\" for=\"loginChecked\">\r\n                記住我\r\n              </label>\r\n            </div>\r\n            <p\r\n              class=\"mt-3 h6 text-start text-danger\"\r\n              @click=\"handPassShow\"\r\n              style=\"cursor: pointer\"\r\n            >\r\n              帳密\r\n              <i v-show=\"isPassShow\" class=\"bi bi-eye\"></i>\r\n              <i v-show=\"!isPassShow\" class=\"bi bi-eye-slash\"></i>\r\n            </p>\r\n            <p v-if=\"isPassShow\" class=\"text-start\">\r\n              帳號:b9111426@gmail.com <br />\r\n              密碼:123456\r\n            </p>\r\n            <button\r\n              class=\"btn btn-lg btn-primary w-100 mt-3\"\r\n              type=\"submit\"\r\n              @click=\"signIn\"\r\n            >\r\n              登入\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <p class=\"mt-3 mb-3 text-muted\">&copy; 2022 - OG Coffee</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiSignInRequest } from '@/api'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      isPassShow: false,\r\n      isSave: true,\r\n      isEyeShow: true\r\n    }\r\n  },\r\n  methods: {\r\n    signIn: _.debounce(async function () {\r\n      if (this.user.username === '' || this.user.password === '') {\r\n        this.$store.dispatch('fireToast', { title: '請先填入資料' })\r\n        return\r\n      }\r\n      try {\r\n        const res = await apiSignInRequest(this.user)\r\n        const { token, expired } = res.data\r\n        document.cookie = `ogCoffeeToken=${token}; expires=${new Date(expired)}`\r\n        this.$store.dispatch('fireToast', { res, title: '登入成功' })\r\n        this.$router.push(this.toPage)\r\n      } catch (err) {\r\n        this.$store.dispatch('fireToast', { res: err.response })\r\n      }\r\n    }, 500),\r\n    handPassShow() {\r\n      this.isPassShow = !this.isPassShow\r\n    },\r\n    saveCode() {\r\n      this.isSave = !this.isSave\r\n      localStorage.setItem('isSave', JSON.stringify(this.isSave))\r\n      if (this.isSave) {\r\n        localStorage.setItem('OGCoffeeUser', JSON.stringify(this.user))\r\n      } else {\r\n        this.user = {\r\n          username: '',\r\n          password: ''\r\n        }\r\n        localStorage.setItem('OGCoffeeUser', JSON.stringify(this.user))\r\n      }\r\n    },\r\n    switchIcon() {\r\n      this.isEyeShow = !this.isEyeShow\r\n    }\r\n  },\r\n  watch: {\r\n    user: {\r\n      handler() {\r\n        if (this.isSave) {\r\n          localStorage.setItem('OGCoffeeUser', JSON.stringify(this.user))\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.dispatch('handLoading', false)\r\n    this.isSave = JSON.parse(localStorage.getItem('isSave'))\r\n    const userInfo = JSON.parse(localStorage.getItem('OGCoffeeUser'))\r\n    if (userInfo === null) {\r\n      return\r\n    } else {\r\n      this.user = JSON.parse(localStorage.getItem('OGCoffeeUser'))\r\n    }\r\n  },\r\n  created() {\r\n    this.$store.dispatch('handLoading', true)\r\n  },\r\n  computed: {\r\n    toPage() {\r\n      return this.$store.getters['toPage']\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form-signin {\r\n  width: 100%;\r\n  max-width: 330px;\r\n  padding: 15px;\r\n  margin: auto;\r\n}\r\n.eyeIcon {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=fa1ea572&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=fa1ea572&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\OneDrive\\\\桌面\\\\og-coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fa1ea572\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","id","onSubmit","_ctx","_hoisted_6","type","placeholder","$data","username","required","autofocus","_hoisted_7","_hoisted_8","password","onClick","$options","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","onInput","checked","_hoisted_15","style","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","data","user","isPassShow","isSave","isEyeShow","methods","signIn","_","async","this","res","apiSignInRequest","token","expired","document","cookie","Date","$store","dispatch","title","$router","push","toPage","err","response","handPassShow","saveCode","localStorage","setItem","JSON","stringify","switchIcon","watch","handler","deep","mounted","parse","getItem","userInfo","created","computed","getters","__exports__","render"],"sourceRoot":""}